<form #personalForm="ngForm" name="personalForm" class="editForm" novalidate>
    <div class="tab-pane fade in active">
        <h3 class="head text-center">{{title1}}</h3>
        <br/>
        <div class='row'>
            <div class='col-xs-offset-1 col-xs-10 col-sm-offset-1 col-sm-10'>
                <div class="row">
                    <div class="col-xs-12 col-sm-12">
                        <label class="control-label" for="loanAmount">How much would you like to borrow?</label>
                    </div>
                    <div class='col-xs-12 col-sm-12'>
                        <div class="form-group">
                            <!--<label class="control-label" for="loanAmount">How much would you like to borrow?</label>-->
                            <select class="form-control input-md" #loanAmount="ngModel" required name="loanAmount" 
                            [(ngModel)]="personal.loanAmount">
                                <option value="" disabled selected>Select</option>                            
                                <option value="250">$250</option>
                                <option value="300">$300</option>
                                <option value="350">$350</option>
                                <option value="400">$400</option>
                                <option value="450">$450</option>
                                <option value="500">$500</option>
                                <option value="550">$550</option>
                                <option value="600">$600</option>
                                <option value="650">$650</option>
                                <option value="700">$700</option>
                                <option value="750">$750</option>
                                <option value="800">$800</option>
                                <option value="850">$850</option>
                                <option value="900">$900</option>
                                <option value="950">$950</option>
                                <option value="1000">$1000</option>
                                <option value="1050">$1050</option>
                                <option value="1100">$1100</option>
                                <option value="1150">$1150</option>
                                <option value="1200">$1200</option>
                                <option value="1250">$1250</option>
                                <option value="1300">$1300</option>
                                <option value="1350">$1350</option>
                                <option value="1400">$1400</option>
                                <option value="1450">$1450</option>
                                <option value="1500">$1500</option>
                                <option value="1550">$1550</option>
                                <option value="1600">$1600</option>
                                <option value="1650">$1650</option>
                                <option value="1700">$1700</option>
                                <option value="1750">$1750</option>
                                <option value="1800">$1800</option>
                                <option value="1850">$1850</option>
                                <option value="1900">$1900</option>
                                <option value="1950">$1950</option>
                                <option value="2000">$2000</option>
                                <option value="2050">$2050</option>
                                <option value="2100">$2100</option>
                                <option value="2150">$2150</option>
                                <option value="2200">$2200</option>
                                <option value="2250">$2250</option>
                                <option value="2300">$2300</option>
                                <option value="2350">$2350</option>
                                <option value="2400">$2400</option>
                                <option value="2450">$2450</option>
                                <option value="2500">$2500</option>
                                <option value="3000">$3000</option>
                                <option value="4000">$4000</option>
                                <option value="5000">$5000+</option>
                            </select>
                            <div *ngIf="loanAmount.invalid && (loanAmount.dirty || loanAmount.touched)" style="padding: 5px 0; font-size: 12px; font-style: italic;" [hidden]="loanAmount.valid">This field is required</div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class='col-xs-12 col-sm-12'>
                        <div class="form-group">
                            <label class="control-label" for="termPeriod">Over how long?</label>
                            <select class="form-control input-md" #termPeriod="ngModel" required name="termPeriod" 
                            [(ngModel)]="personal.termPeriod">
                                <option value="" disabled selected>Select</option>
                                <option value="3">3 Months</option>
                                <option value="4">4 Months</option>
                                <option value="5">5 Months</option>
                                <option value="6" >6 Months</option>
                                <option value="7">7 Months</option>
                                <option value="8">8 Months</option>
                                <option value="9">9 Months</option>
                                <option value="10">10 Months</option>
                                <option value="11">11 Months</option>
                                <option value="12">12 Months</option>
                                <option value="13">13 Months</option>
                                <option value="14">14 Months</option>
                                <option value="15">15 Months</option>
                                <option value="16">16 Months</option>
                                <option value="17">17 Months</option>
                                <option value="18">18+ Months</option>
                            </select>
                            <div *ngIf="termPeriod.invalid && (termPeriod.dirty || termPeriod.touched)" style="padding: 5px 0; font-size: 12px; font-style: italic;" [hidden]="termPeriod.valid">This field is required</div>
                        </div>
                    </div>
                </div>
                <div *ngIf="termPeriod.valid && loanAmount.valid">
                    <div class="row">
                        <div class='col-xs-12 col-sm-12'>
                            <div class="form-group checkbox-div control-label">
                                <!--<label class="control-label" for="checkboxFlexible">I'm flexible with terms</label>-->
                                <input type="checkbox" checked name="flexible-terms" class="big-checkbox"> I'm flexible with
                                terms
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class='col-xs-12 col-sm-12'>
                        <div class="form-group">
                            <label class="control-label" for="zip">What's your zipcode?</label>
                            <input class="form-control input-md" (keyup)="getZipInformation()" id="user-zipcode" #zip="ngModel" required validateZip
                                apiCall name="zip" type="text" placeholder="Zip" [(ngModel)]="personal.zip">
                            <div style="padding-top: 5px; font-size: 12px; font-style: italic;" *ngIf="zip.invalid && (zip.dirty || zip.touched)" [hidden]="zip.valid">
                                <div *ngIf="zip.errors.required">This field is required</div>
                                <div *ngIf="zip.invalid">Please provide a valid zip code</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="loanAmount.valid && termPeriod.valid && zip.valid">
                    <h4 class="head text-center large-width">{{title2}}</h4>
                    <div class="row">
                        <div class='col-xs-12 col-sm-12'>
                            <label class="control-label" for="title">Title</label>
                        </div>
                        <div class='col-xs-12 col-sm-12'>
                            <div class="form-group">
                                <!--<label class="control-label" for="title">Title</label>-->
                                <div class="radio radio-prefix" type="radio">
                                    <span class="option">
                                        <input #prefix="ngModel" required name="prefix" id="prefix" value=1 [(ngModel)]="personal.prefix" type="radio">
                                        <label>
                                            Mr
                                        </label>
                                    </span>
                                    <span class="option">
                                        <input #prefix="ngModel" required name="prefix" id="prefix" value=2 [(ngModel)]="personal.prefix" type="radio">
                                        <label>
                                            Mrs
                                        </label>
                                    </span>
                                    <span class="option">
                                        <input #prefix="ngModel" required name="prefix" id="prefix" value=3 [(ngModel)]="personal.prefix" type="radio">
                                        <label>
                                            Ms
                                        </label>
                                    </span>
                                    <span class="option">
                                        <input #prefix="ngModel" required name="prefix" id="prefix" value=4 [(ngModel)]="personal.prefix" type="radio">
                                        <label>                                
                                            Miss
                                        </label>
                                    </span>
                                </div>
                            </div>
                            <div class="prefix-error-message text-danger" *ngIf="(firstName.touched)" style="padding: 0 0 5px 0; font-size: 16px;" [hidden]="prefix.valid">
                                <span style="margin-right: 5px;" class="glyphicon glyphicon-arrow-up"></span>Please select your title before continuing
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='col-xs-12 col-sm-12'>
                            <div class="form-group">
                                <label class="control-label" for="firstName">First Name</label>
                                <input class="form-control input-md" #firstName="ngModel" required uppercase name="firstName" minlength="1" type="text" placeholder="First Name"
                                    [(ngModel)]="personal.firstName">
                                <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
                                    [hidden]="firstName.valid">
                                    <div *ngIf="firstName.errors.required">This field is required</div>
                                    <div *ngIf="firstName.errors.minlength">Min length is 1</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='col-xs-12 col-sm-12'>
                            <div class="form-group">
                                <label class="control-label" for="lastname">Last Name</label>
                                <input class="form-control input-md" 
                                        #lastname="ngModel" 
                                        required 
                                        uppercase 
                                        name="lastname" 
                                        type="text" 
                                        placeholder="Last Name"
                                        (focus)="smoothScroll()" 
                                        [(ngModel)]="personal.lastName">
                                <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)"
                                    [hidden]="lastname.valid">This field is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='col-xs-12 col-sm-12'>
                            <div class="form-group">
                                <label class="control-label" for="dob">Date of Birth</label>
                                <input class="form-control input-md" #dob="ngModel" required name="dob" validateDOB type="text" placeholder="MM/DD/YYYY"
                                    [(ngModel)]="personal.dob">
                                <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="dob.invalid && (dob.dirty || dob.touched)" [hidden]="dob.valid">
                                    <div *ngIf="dob.errors.required">This field is required</div>
                                    <div *ngIf="dob.errors.validateDOB">Please use format MM/DD/YYYY <br/>Must be over 18 to apply</div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div id="personal-info"></div>
                    <div *ngIf="lastname.valid && firstName.valid && prefix.valid && termPeriod.valid && loanAmount.valid && dob.valid" style="transition: height 2s">
                        <h4 class="head text-center large-width">{{title3}}</h4>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="mobilephone">Mobile Phone</label>
                                    <input class="form-control input-md phone" 
                                        id="mobilePhone"

                                        #mobilePhone="ngModel" 
                                        required 
                                        validatePhone 
                                        name="mobilephone" 
                                        type="text" 
                                        placeholder="(123) 456-7890"
                                        [(ngModel)]="personal.mobilePhone">
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="mobilePhone.dirty && mobilePhone.untouched" [hidden]="mobilePhone.valid">
                                        Please finish filling out your phone number
                                    </div>
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="mobilePhone.invalid && (mobilePhone.touched)"
                                        [hidden]="mobilePhone.valid">
                                        <div *ngIf="mobilePhone.errors.required">This field is required</div>
                                        <div *ngIf="mobilePhone.errors.validatePhone">Please provide a valid phone number<br>Example: (123) 456-789</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="workphone">Work Phone</label>
                                    <input class="form-control input-md phone" 
                                        id="workPhone" 

                                        #workPhone="ngModel" 
                                        required 
                                        validatePhone 
                                        name="workPhone" 
                                        type="text" 
                                        placeholder="(123) 456-7890"
                                        [(ngModel)]="personal.workPhone">
                                    <div style="padding: 5px 0;; font-size: 12px; font-style: italic;" *ngIf="workPhone.dirty && workPhone.untouched" [hidden]="workPhone.valid">
                                        Please finish filling out your phone number
                                    </div>
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="workPhone.invalid && (workPhone.touched)"
                                        [hidden]="workPhone.valid">
                                        <div *ngIf="workPhone.errors.required">This field is required</div>
                                        <div *ngIf="workPhone.errors.validatePhone">Please provide a valid phone number</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="homephone">Home Phone (Optional)</label>
                                    <input class="form-control input-md phone"
                                            id="homePhone" 
                                            #homePhone="ngModel" 
                                            name="homephone" 
                                            type="text" 
                                            placeholder="(123) 456-7890"
                                            [(ngModel)]="personal.homePhone">
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="homePhone.invalid && (homePhone.touched)"
                                        [hidden]="homePhone.valid">
                                        <div *ngIf="homePhone.errors.required">This field is required</div>
                                        <div *ngIf="homePhone.errors.pattern">Please provide a valid phone number</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="text-danger" *ngIf="mobilePhone.value == workPhone.value && mobilePhone.valid && workPhone.valid">
                                    <span class="glyphicon glyphicon-info-sign" style="margin-right: 5px;"></span>Your work and home or cell numbers match, many lenders will treat you as self - employed and many will decline to consider
                                    your application due to lack of detailed information.This decreases your chance for acceptance.
                                    We encourage you to provide a real work number which is separate from your mobile to
                                    gain the highest possible chance for acceptance
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div style="margin-bottom: 20px; color: red;" id="phoneMessage">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="email">
                                        Email 
                                        <a style="cursor:pointer;" ngbTooltip="We only ever use your email to verify your account, we never send promotional emails. Please ensure your email domain type is valid. i.e. .us, .com, .net">
                                            <span class="glyphicon glyphicon-question-sign"></span>
                                        </a>
                                    </label>
                                    <input class="form-control input-md"
                                            id="email" 
                                            #email="ngModel" 
                                            required 
                                            validateEmail 
                                            name="email" 
                                            type="text" 
                                            placeholder="person@example.com"
                                            [(ngModel)]="personal.email">
                                    <div style="padding: 5px 0" *ngIf="email.invalid && email.value.length > '2'" class="email-domain" [hidden]="email.valid">
                                        <button (click)="addGmail()" class="btn btn-info col-xs-6">
                                            @gmail.com
                                        </button>
                                        <button (click)="addYahoo()" class="btn btn-info col-xs-6">
                                            @yahoo.com
                                        </button>
                                        <button (click)="addHotmail()" class="btn btn-info col-xs-6">
                                            @hotmail.com
                                        </button>
                                        <button (click)="addAol()" class="btn btn-info col-xs-6">
                                            @aol.com
                                        </button>
                                    </div>        
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic; display: block; clear: both;" *ngIf="email.invalid && (email.dirty || email.touched)"
                                        [hidden]="email.valid">
                                        <div *ngIf="email.errors.required">This field is required</div>
                                        <div *ngIf="email.errors.validateEmail">Please provide a valid email address</div>
                                    </div>
                                </div>
                            </div>
                            <!--<div class='col-xs-12 col-sm-4'>
                            <div class="form-group">
                                <label class="control-label" for="dob">Date of Birth</label>
                                <input class="form-control input-md"
                                        #dob="ngModel" 
                                        required 
                                        name="dob"
                                        validateDOB
                                        type="text"
                                        placeholder="MM/DD/YYYY"
                                        [(ngModel)]="personal.dob">
                                <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="dob.invalid && (dob.dirty || dob.touched)" [hidden]="dob.valid">
                                    <div *ngIf="dob.errors.required">This field is required</div>
                                    <div *ngIf="dob.errors.validateDOB">Please use format MM/DD/YYYY <br/>Must be over 18 to apply</div>
                                </div>
                            </div>
                        </div>-->

                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="nationalIdentityNumber">Social Security Number</label>
                                    <input class="form-control input-md" #nationalIdentityNumber="ngModel" required validateSSN name="nationalIdentityNumber" type="text" placeholder="XXX-XX-XXXX"
                                        [(ngModel)]="personal.nationalIdentityNumber">
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="nationalIdentityNumber.invalid && (nationalIdentityNumber.dirty || nationalIdentityNumber.touched)" [hidden]="nationalIdentityNumber.valid">
                                        <div *ngIf="nationalIdentityNumber.errors.required">This field is required</div>
                                        <div *ngIf="nationalIdentityNumber.errors.validateSSN">Please provide a valid social security number</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="driversLicense">Driver's License or State ID #</label>
                                    <input class="form-control input-md" #driversLicense="ngModel" required name="driversLicense" type="text" placeholder="Driver's license or State ID"
                                        [(ngModel)]="personal.driversLicense">
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="driversLicense.invalid && (driversLicense.dirty || driversLicense.touched)"
                                        [hidden]="driversLicense.valid">This field is required</div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="issuingState">Issuing State</label>
                                    <select class="form-control input-md" #issuingState="ngModel" required name="issuingState" [(ngModel)]="personal.issuingState">
                                    <option value="" disabled selected>Select</option>                            
                                    <option value="AL">Alabama</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DE">Delaware</option>
                                    <option value="DC">District of Columbia</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="IA">Iowa</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="ME">Maine</option>
                                    <option value="MD">Maryland</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MT">Montana</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NY">New York</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VT">Vermont</option>
                                    <option value="VA">Virginia</option>
                                    <option value="WA">Washington</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WY">Wyoming</option>
                                    <option value="AA">Armed Forces Americas</option>
                                    <option value="AE">Armed Forces Europe</option>
                                    <option value="AP">Armed Forces Pacific</option>
                                </select>
                                    <div style="padding: 5px 0; font-size: 12px; font-style: italic;" *ngIf="issuingState.invalid && (issuingState.dirty || issuingState.touched)"
                                        [hidden]="issuingState.valid">This field is required
                                        <div *ngIf="issuingState.invalid">Please provide a valid State name</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class='col-xs-12 col-sm-12'>
                                <div class="form-group">
                                    <label class="control-label" for="militaryService">Military Service</label>
                                    <div class="radio radio-militaryService" type="radio">
                                        <span class="option">
                                        <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=1 [(ngModel)]="personal.militaryService" type="radio">
                                        <label>
                                            None
                                        </label>
                                    </span>
                                        <span class="option">
                                        <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=2 [(ngModel)]="personal.militaryService" type="radio">
                                        <label>
                                            Veteran
                                        </label>
                                    </span>
                                        <span class="option">
                                        <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=3 [(ngModel)]="personal.militaryService" type="radio">
                                        <label>
                                            Reserves
                                        </label>
                                    </span>
                                        <span class="option">
                                        <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=4 [(ngModel)]="personal.militaryService" type="radio">
                                        <label>                                
                                            Active Duty
                                        </label>
                                    </span>
                                    </div>
                                </div>
                                <div class="militaryService-error-message text-danger" *ngIf="(issuingState.touched || issuingState.dirty)" style="padding: 0 0 5px 0; font-size: 16px;"
                                    [hidden]="militaryService.valid">
                                    <span style="margin-right: 5px;" class="glyphicon glyphicon-arrow-up"></span>Please select an option before continuing
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group text-center">
                <div *ngIf="!personalForm.valid" class="text-danger" style="clear:both;"> 
                    <span class="glyphicon glyphicon-info-sign" style="margin-right: 5px;"></span>All fields must be answered before proceeding
                </div>
                <button class="btn btn-success btn-outline-rounded btn-info" [disabled]="!personalForm.valid" (click)="goToNext(personalForm)">
                        Next <span style="margin-left:10px;" class="glyphicon glyphicon-arrow-right"></span>
                </button>
            </div>             
        </div>
    </div>
</form>



