<form #personalForm="ngForm" name="personalForm" class="editForm" novalidate>
    <div class="tab-pane fade in active">
        <h3 class="head text-center">{{title1}}</h3>
        <div class="form-group loanamount">
            <!--<label class="control-label loanamount-label" for="loanAmount">How much would you like to borrow?</label>-->
            <!--<select class="form-control input-md" id="la" #loanAmount="ngModel" required name="loanAmount" [(ngModel)]="personal.loanAmount">
                <option value="" disabled selected>Select</option>
                <option value="250">$250</option>
                <option value="300">$300</option>
                <option value="350">$350</option>
                <option value="400">$400</option>
                <option value="450">$450</option>
                <option value="500">$500</option>
                <option value="550">$550</option>
                <option value="600">$600</option>
                <option value="650">$650</option>
                <option value="700">$700</option>
                <option value="750">$750</option>
                <option value="800">$800</option>
                <option value="850">$850</option>
                <option value="900">$900</option>
                <option value="950">$950</option>
                <option value="1000">$1000</option>
                <option value="1050">$1050</option>
                <option value="1100">$1100</option>
                <option value="1150">$1150</option>
                <option value="1200">$1200</option>
                <option value="1250">$1250</option>
                <option value="1300">$1300</option>
                <option value="1350">$1350</option>
                <option value="1400">$1400</option>
                <option value="1450">$1450</option>
                <option value="1500">$1500</option>
                <option value="1550">$1550</option>
                <option value="1600">$1600</option>
                <option value="1650">$1650</option>
                <option value="1700">$1700</option>
                <option value="1750">$1750</option>
                <option value="1800">$1800</option>
                <option value="1850">$1850</option>
                <option value="1900">$1900</option>
                <option value="1950">$1950</option>
                <option value="2000">$2000</option>
                <option value="2050">$2050</option>
                <option value="2100">$2100</option>
                <option value="2150">$2150</option>
                <option value="2200">$2200</option>
                <option value="2250">$2250</option>
                <option value="2300">$2300</option>
                <option value="2350">$2350</option>
                <option value="2400">$2400</option>
                <option value="2450">$2450</option>
                <option value="2500">$2500</option>
                <option value="3000">$3000</option>
                <option value="4000">$4000</option>
                <option value="5000">$5000+</option>
            </select>-->
            <div class="wr form-group" (click)="toggleLoanAmount()">
                <div>
                    <button class="btn btn-info btn-rounded" id="bminus">â€“</button>
                    <div class="loanamount-wrapper">
                        <span class="loan-amount">$</span>
                        <input readonly class="form-control input-md" id="la" #loanAmount="ngModel" required name="loanAmount" [(ngModel)]="personal.loanAmount"
                            type="text" />
                    </div>
                    <button class="btn btn-info btn-rounded" id="bplus">+</button>
                </div>
            </div>
            <div *ngIf="loanAmount.invalid && (loanAmount.dirty || loanAmount.touched)" class="warning-text" [hidden]="loanAmount.valid">This field is required</div>
        </div>


        <div class="form-group">
            <label class="control-label" for="termPeriod">Over how many months?</label>
            <!--<select class="form-control input-md" id="term" #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod">
                <option value="" disabled selected>Select</option>
                <option value="3">3 Months</option>
                <option value="4">4 Months</option>
                <option value="5">5 Months</option>
                <option value="6">6 Months</option>
                <option value="7">7 Months</option>
                <option value="8">8 Months</option>
                <option value="9">9 Months</option>
                <option value="10">10 Months</option>
                <option value="11">11 Months</option>
                <option value="12">12 Months</option>
                <option value="13">13 Months</option>
                <option value="14">14 Months</option>
                <option value="15">15 Months</option>
                <option value="16">16 Months</option>
                <option value="17">17 Months</option>
                <option value="18">18+ Months</option>
            </select>-->
            <div class="term-group">
                <div class="radio radio-term" type="radio">
                    <span class="option">
                            <input #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod" value=3 type="radio">
                            <label>
                                3
                            </label>
                        </span>
                    <span class="option">
                            <input #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod" value=6 type="radio">
                            <label>
                                6
                            </label>
                        </span>
                    <span class="option">
                            <input #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod" value=9 type="radio">
                            <label>
                               9
                            </label>
                        </span>
                    <span class="option">
                            <input #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod" value=12 type="radio">
                            <label>
                                12
                            </label>
                        </span>
                    <span class="option">
                            <input #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod" value=18 type="radio">
                            <label>
                                18
                            </label>
                        </span>
                    <span class="option">
                            <input #termPeriod="ngModel" required name="termPeriod" [(ngModel)]="personal.termPeriod" value=24 type="radio">
                            <label>
                                24+
                            </label>
                        </span>
                </div>
            </div>
            <!--<div *ngIf="termPeriod.invalid && (termPeriod.dirty || termPeriod.touched)" class="warning-text" [hidden]="termPeriod.valid">This field is required</div>-->
            <div class="prefix-error-message warning-text" *ngIf="(zip.touched)" [hidden]="termPeriod.valid">
                <span class="glyphicon glyphicon-arrow-up" style="margin-right: 5px;"></span>Please select for how long you
                would like to borrow
            </div>
        </div>

        <div *ngIf="termPeriod.valid && loanAmount.valid">
            <div class="form-group checkbox-group">
                <label id="" class="control-label">I'm flexible with terms</label>

                <div class="checkbox-div">
                    <input id="checkbox-flexible" type="checkbox" checked name="flexible-terms" class="big-checkbox">
                    <label for="checkbox-flexible"></label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="zip">What's your zipcode?</label>
            <input class="form-control input-md" (keyup)="getZipInformation()" id="user-zipcode" #zip="ngModel" required validateZip
                apiCall name="zip" type="tel" placeholder="Zip" [(ngModel)]="personal.zip">
            <div class="warning-text" *ngIf="zip.invalid && (zip.dirty || zip.touched)" [hidden]="zip.valid">
                <div *ngIf="zip.errors.required">This field is required</div>
                <div *ngIf="zip.invalid">Please provide a valid zip code</div>
            </div>
            <div *ngIf="zipCodeLoading" class="ellipsis">
                <img class="loading-ellipsis" src="assets/images/loading-ellipsis.svg" alt="Loading Animation">
            </div>
        </div>
        <div *ngIf="loanAmount.valid && termPeriod.valid && zip.valid">
            <h4 class="head text-center large-width">{{title2}}</h4>
            <div class="form-group">
                <label class="control-label" for="title">Title</label>
                <div class="radio radio-prefix" type="radio">
                    <span class="option">
                        <input #prefix="ngModel" required name="prefix" id="prefix" value=1 [(ngModel)]="personal.prefix" type="radio">
                        <label>
                            Mr
                        </label>
                    </span>
                    <span class="option">
                        <input #prefix="ngModel" required name="prefix" id="prefix" value=2 [(ngModel)]="personal.prefix" type="radio">
                        <label>
                            Mrs
                        </label>
                    </span>
                    <span class="option">
                        <input #prefix="ngModel" required name="prefix" id="prefix" value=3 [(ngModel)]="personal.prefix" type="radio">
                        <label>
                            Ms
                        </label>
                    </span>
                    <span class="option">
                        <input #prefix="ngModel" required name="prefix" id="prefix" value=4 [(ngModel)]="personal.prefix" type="radio">
                        <label>
                            Miss
                        </label>
                    </span>
                </div>
            </div>
            <div class="prefix-error-message warning-text" *ngIf="(firstName.touched || dob.touched || dob.dirty)" [hidden]="prefix.valid">
                <span class="glyphicon glyphicon-arrow-up" style="margin-right: 5px;"></span>Please select your title before
                continuing
            </div>

            <div class="form-group">
                <label class="control-label" for="firstName">First Name</label>
                <input class="form-control input-md" id="firstname" #firstName="ngModel" required validateFirstName uppercase name="firstName"
                    minlength="2" type="text" placeholder="First Name" [(ngModel)]="personal.firstName">
                <div class="warning-text" *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" [hidden]="firstName.valid">
                    <div *ngIf="firstName.errors.required">This field is required</div>
                    <div *ngIf="firstName.errors.minlength">Minimum length is 2 characters</div>
                    <div *ngIf="firstName.errors.validateFirstName">First and last names can not match</div>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label" for="lastname">Last Name</label>
                <input class="form-control input-md" id="lastname" #lastname="ngModel" required validateLastName uppercase name="lastname"
                    minlength="2" type="text" placeholder="Last Name" [(ngModel)]="personal.lastName">
                <div class="warning-text" *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" [hidden]="lastname.valid">
                    <div *ngIf="lastname.errors.required">This field is required</div>
                    <div *ngIf="lastname.errors.minlength">Minimum length is 2 characters</div>
                    <div *ngIf="lastname.errors.validateLastName">First and last names can not match</div>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label" for="dob">Date of Birth</label>
                <input (keyup)="scrollDown($event)" class="form-control input-md" #dob="ngModel" required name="dob" validateDOB type="tel"
                    placeholder="MM/DD/YYYY" [(ngModel)]="personal.dob">
                <div class="warning-text" *ngIf="dob.invalid && (dob.dirty || dob.touched)" [hidden]="dob.valid">
                    <div *ngIf="dob.errors.required">This field is required</div>
                    <div *ngIf="dob.errors.validateDOB">Please use format MM/DD/YYYY
                        <br/>Must be over 18 to apply</div>
                </div>
            </div>

            <div id="personal-info"></div>
            <div *ngIf="lastname.valid && firstName.valid && prefix.valid && termPeriod.valid && loanAmount.valid && dob.valid">
                <h4 class="head text-center large-width">{{title3}}</h4>

                <div class="form-group">
                    <label class="control-label" for="mobilephone">Mobile Phone</label>
                    <input class="form-control input-md phone" id="mobilePhone" #mobilePhone="ngModel" required validatePhone name="mobilephone"
                        type="tel" placeholder="(123) 456-7890" [(ngModel)]="personal.mobilePhone">
                    <div class="warning-text" style="color: orange;" *ngIf="mobilePhone.dirty && mobilePhone.untouched" [hidden]="mobilePhone.valid">
                        Please finish filling out your phone number
                    </div>
                    <div class="warning-text" *ngIf="mobilePhone.invalid && (mobilePhone.touched)" [hidden]="mobilePhone.valid">
                        <div *ngIf="mobilePhone.errors.required">This field is required</div>
                        <div *ngIf="mobilePhone.errors.validatePhone">Please provide a valid phone number
                            <br>Example: (123) 456-789</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="workphone">Work Phone</label>
                    <input class="form-control input-md phone" id="workPhone" #workPhone="ngModel" required validatePhone name="workPhone" type="tel"
                        placeholder="(123) 456-7890" [(ngModel)]="personal.workPhone">
                    <div class="warning-text" style="color: orange" *ngIf="workPhone.dirty && workPhone.untouched" [hidden]="workPhone.valid">
                        Please finish filling out your phone number
                    </div>
                    <div class="warning-text" *ngIf="workPhone.invalid && (workPhone.touched)" [hidden]="workPhone.valid">
                        <div *ngIf="workPhone.errors.required">This field is required</div>
                        <div *ngIf="workPhone.errors.validatePhone">Please provide a valid phone number</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="homephone">Home Phone (Optional)</label>
                    <input class="form-control input-md phone" id="homePhone" #homePhone="ngModel" name="homephone" type="tel" placeholder="(123) 456-7890"
                        [(ngModel)]="personal.homePhone">
                    <div class="warning-text" *ngIf="homePhone.invalid && (homePhone.touched)" [hidden]="homePhone.valid">
                        <div *ngIf="homePhone.errors.required">This field is required</div>
                        <div *ngIf="homePhone.errors.pattern">Please provide a valid phone number</div>
                    </div>
                </div>

                <div class="warning-text" *ngIf="(mobilePhone.value == workPhone.value || homePhone.value == workPhone.value) && mobilePhone.valid && workPhone.valid">
                    Your work and home or cell numbers match,<span> many lenders will treat you as self - employed and many will decline to consider
                    your application due to lack of detailed information.This decreases your chance for acceptance. We encourage
                    you to provide a real work number which is separate from your mobile to gain the highest possible chance
                    for acceptance</span>
                </div>

                <div id="phoneMessage">
                </div>

                <div class="form-group">
                    <label class="control-label" for="email">
                        Email
                        <a style="cursor:pointer" ngbTooltip="We only ever use your email to verify your account, we never send promotional emails. Please ensure your email domain type is valid. i.e. .us, .com, .net">
                            <span class="glyphicon glyphicon-question-sign"></span>
                        </a>
                    </label>
                    <input class="form-control input-md" id="email" #email="ngModel" required validateEmail name="email" type="email" placeholder="person@example.com"
                        [(ngModel)]="personal.email">
                    <div *ngIf="email.invalid && email.value.length > '2'" class="email-domain" [hidden]="email.valid">
                        <button (click)="addGmail()" class="">
                            @gmail.com
                        </button>
                        <button (click)="addYahoo()" class="">
                            @yahoo.com
                        </button>
                        <button (click)="addHotmail()" class="">
                            @hotmail.com
                        </button>
                        <button (click)="addAol()" class="">
                            @aol.com
                        </button>
                    </div>
                    <div class="warning-text" *ngIf="email.invalid && (email.dirty || email.touched)" [hidden]="email.valid">
                        <div *ngIf="email.errors.required">This field is required</div>
                        <div *ngIf="email.errors.validateEmail">Please provide a valid email address</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="nationalIdentityNumber">Social Security Number</label>
                    <input class="form-control input-md" #nationalIdentityNumber="ngModel" required validateSSN name="nationalIdentityNumber"
                        type="tel" placeholder="XXX-XX-XXXX" [(ngModel)]="personal.nationalIdentityNumber">
                    <div class="warning-text" *ngIf="nationalIdentityNumber.invalid && (nationalIdentityNumber.dirty || nationalIdentityNumber.touched)"
                        [hidden]="nationalIdentityNumber.valid">
                        <div *ngIf="nationalIdentityNumber.errors.required">This field is required</div>
                        <div *ngIf="nationalIdentityNumber.errors.validateSSN">Please provide a valid social security number</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="driversLicense">Driver's License or State ID #</label>
                    <input class="form-control input-md" #driversLicense="ngModel" required name="driversLicense" type="text" placeholder="Driver's license or State ID"
                        [(ngModel)]="personal.driversLicense">
                    <div class="warning-text" *ngIf="driversLicense.invalid && (driversLicense.dirty || driversLicense.touched)" [hidden]="driversLicense.valid">This field is required</div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="issuingState">Issuing State</label>
                    <select class="form-control input-md" #issuingState="ngModel" required name="issuingState" [(ngModel)]="personal.issuingState">
                        <option value="" disabled selected>Select</option>
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                        <option value="AA">Armed Forces Americas</option>
                        <option value="AE">Armed Forces Europe</option>
                        <option value="AP">Armed Forces Pacific</option>
                    </select>
                    <div class="warning-text" *ngIf="issuingState.invalid && (issuingState.dirty || issuingState.touched)" [hidden]="issuingState.valid">This field is required
                        <div *ngIf="issuingState.invalid">Please provide a valid State name</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="militaryService">Military Service</label>
                    <div class="radio radio-militaryService" type="radio">
                        <span class="option">
                            <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=1 [(ngModel)]="personal.militaryService"
                                type="radio">
                            <label>
                                None
                            </label>
                        </span>

                        <span class="option">
                            <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=2 [(ngModel)]="personal.militaryService"
                                type="radio">
                            <label>
                                Veteran
                            </label>
                        </span>
                        <span class="option">
                            <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=3 [(ngModel)]="personal.militaryService"
                                type="radio">
                            <label>
                                Reserves
                            </label>
                        </span>
                        <span class="option">
                            <input #militaryService="ngModel" required name="militaryService" id="militaryService" value=4 [(ngModel)]="personal.militaryService"
                                type="radio">
                            <label>
                                Active Duty
                            </label>
                        </span>
                    </div>
                </div>
                <div class="militaryService-error-message warning-text" *ngIf="(driversLicense.touched || driversLicense.dirty)" class="warning-text"
                    [hidden]="militaryService.valid">
                    <span class="glyphicon glyphicon-arrow-up" style="margin-right: 5px;"></span>Please select an option
                    before continuing
                </div>

            </div>
        </div>
        <div class="form-group text-center buttons-group">
            <div *ngIf="!personalForm.valid" class="text-danger">
                All fields must be answered before proceeding
            </div>
            <button class="btn btn-success btn-outline-rounded btn-info" [disabled]="!personalForm.valid" (click)="goToNext(personalForm)">
                Next

            </button>
        </div>
    </div>
</form>